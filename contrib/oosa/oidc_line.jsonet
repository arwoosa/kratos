


local claims = std.extVar('claims');

if std.length(claims.sub) == 0 then
  error 'claim sub not set'
else
  {
    identity: {
      traits: {
        all: claims,
        email: claims.email,
        name: claims.name,
        picture: claims.picture,
        username: claims.sub,
        language: "zh-TW"
      },
    },
  }
